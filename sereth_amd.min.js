!function(e){"use strict";function o(e){return u[e]||(u[e]=new Promise(function(o,n){t[e]=o})),u[e]}function n(e){return e?e.map?Promise.all(e.map(o)):Promise.all([o(e)]):n([])}function i(e,o){var n=u[e],i=t[e];if(n){if(!i)throw"Module already exists:  "+e;i.call(n,o),delete t[e]}else u[e]=Promise.resolve(o)}if(!Promise)throw"Native Promise support or polyfill required";e.use_modules=function(o,i){if("function"!=typeof i)throw"Module usage not a function";n(o).then(function(o){i.apply(e,o)})},e.define_module=function(o,n,t){var u=null;if("function"==typeof n?t=n:u=n,"function"!=typeof t)throw"Module define not a function: "+o;e.use_modules(u,function(n){i(o,t.apply(e,n))})};var t={},u={}}(this);
