!function(e){function n(e){return a[e]||(a[e]=new i(function(n,o){r[e]=n})),a[e]}function o(e){return e?typeof e.map==u?i.all(e.map(n)):i.all([n(e)]):o([])}function t(e,n){var o=a[e],t=r[e];if(o){if(!t)throw l;t.call(o,n),delete r[e]}else a[e]=i.resolve(n)}if(!e.ul_amd){e.ul_amd=1;var i=e.Promise,u="function";if(!i)throw"Promise required";var f="Missing callback",l="Module exists";e.use_module=function(n,t){if(typeof t!=u)throw f;o(n).then(function(n){t.apply(e,n)})},e.def_module=function(n,o,i){var l=null;if(typeof o==u?i=o:l=o,typeof i!=u)throw f;e.use_module(l,function(o){t(n,i.apply(e,o))})};var r={},a={}}}(this);