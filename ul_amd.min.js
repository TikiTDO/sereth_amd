!function(e){function n(e){return a[e]||(a[e]=new t(function(n){r[e]=n})),a[e]}function i(e){return e?Array.isArray(e)?t.all(e.map(n)):t.all([n(e)]):i([])}function o(e,n){if(a[e]){if(!r[e])throw f;r[e].call(a[e],n),delete r[e]}else a[e]=t.resolve(n)}if(!e.ul_amd){e.ul_amd=1;var t=e.Promise,u="function",l="Missing callback",f="Module exists";if(!t)throw"Promise required";e.use_module=function(n,o){if(typeof o!=u)throw l;i(n).then(function(n){o.apply(e,n)})},e.def_module=function(n,i,t){var f=null;if(typeof i==u?t=i:f=i,typeof t!=u)throw l;e.use_module(f,function(i){o(n,t.apply(e,i))})};var r={},a={}}}(this);